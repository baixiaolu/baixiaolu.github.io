import{_ as e,r as p,o,c as r,a as n,d as s,b as t,e as l}from"./app-RLcf5AN2.js";const c={},i=l(`<h1 id="vue的代理" tabindex="-1"><a class="header-anchor" href="#vue的代理" aria-hidden="true">#</a> vue的代理</h1><h2 id="应用场景" tabindex="-1"><a class="header-anchor" href="#应用场景" aria-hidden="true">#</a> 应用场景</h2><p>在开发时遇到跨域问题，需要配置代理解决。 vue提供了一个devServer.proxy的配置项，可以实现跨域请求。 以下是实际代码中的配置：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>	<span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//运行后自动打开浏览器</span>
		<span class="token literal-property property">port</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_PORT</span><span class="token punctuation">,</span> <span class="token comment">//挂载端口</span>
		<span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token string-property property">&#39;/capi&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;http://182.42.93.43:8000/capi&quot;</span><span class="token punctuation">,</span>
				<span class="token comment">// target: &quot;http://192.168.1.8:91&quot;,</span>
				<span class="token comment">//ws: true,</span>
				<span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
				<span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
				<span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string-property property">&#39;^/capi/&#39;</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token literal-property property">overlay</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token literal-property property">warnings</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
					<span class="token literal-property property">errors</span><span class="token operator">:</span> <span class="token boolean">true</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token string-property property">&#39;/zyyt&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;http://192.168.1.8:30010&quot;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
				<span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
				<span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string-property property">&#39;^/zyyt/&#39;</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token literal-property property">overlay</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token literal-property property">warnings</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
					<span class="token literal-property property">errors</span><span class="token operator">:</span> <span class="token boolean">true</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="正式环境配置" tabindex="-1"><a class="header-anchor" href="#正式环境配置" aria-hidden="true">#</a> 正式环境配置</h2><p>以上配置是开发环境的配置，正式环境需要配置nginx代理。具体如下：</p><div class="language-nginx line-numbers-mode" data-ext="nginx"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> ^~/api/</span> <span class="token punctuation">{</span>
     <span class="token directive"><span class="token keyword">proxy_pass</span> http://xxx.xxx.xxx.xxx:8889/api/</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后重载nginx生效：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>nginx <span class="token parameter variable">-s</span> reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,9),u={href:"https://blog.csdn.net/qq_45890970/article/details/123654674",target:"_blank",rel:"noopener noreferrer"},d=n("h2",{id:"更多资料",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#更多资料","aria-hidden":"true"},"#"),s(" 更多资料")],-1),k={href:"https://blog.csdn.net/bamboozjy/article/details/109284024",target:"_blank",rel:"noopener noreferrer"},v=n("br",null,null,-1),b={href:"https://cloud.tencent.com/developer/article/1418457",target:"_blank",rel:"noopener noreferrer"};function m(y,h){const a=p("ExternalLinkIcon");return o(),r("div",null,[i,n("p",null,[s("参考资料： "),n("a",u,[s("Vue项目打包部署上线时devServer.proxy代理失效如何解决？使用nginx的proxy_pass 代理跨域转发"),t(a)])]),d,n("p",null,[n("a",k,[s("vue项目配置代理devServer解决跨域问题(开发环境使用)"),t(a)]),v,n("a",b,[s("终于有人把正向代理和反向代理解释的明明白白了"),t(a)])])])}const x=e(c,[["render",m],["__file","vue-proxy.html.vue"]]);export{x as default};
